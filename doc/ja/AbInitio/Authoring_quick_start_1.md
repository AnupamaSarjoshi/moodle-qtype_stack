# 問題作成クイック・スタート 1: 動作する最小限の問題

1 - 基本的な問題 | [2 - 問題変数](Authoring_quick_start_2.md) | [3 - フィードバックを改善する](Authoring_quick_start_3.md) | [4 - ランダム化](Authoring_quick_start_4.md) | [5 - 問題のテスト](Authoring_quick_start_5.md) | [6 - 複数解答欄問題](Authoring_quick_start_6.md) | [7 - 数式簡略の無効化](Authoring_quick_start_7.md) | [8 - 問題のインポートと小テスト](Authoring_quick_start_8.md)

問題作成クイック・スタート・ガイドはSTACKでの問題の作成方法を説明します。
パート1では動作する最小限の問題を作成します。次のビデオでそのやり方を説明します：


<iframe width="560" height="315" src="https://www.youtube.com/embed/cpwo-D6EUgA" frameborder="0" allowfullscreen></iframe>
## 始めに

以下を仮定します:

1. STACKがインストールされたコースにアクセスできるとします。
2. 簡単な数式の\(\LaTeX\)記法に慣れているとします。
いくつかの基本的な例は，[CASText](/Authoring/CASText.md) ドキュメントに記載されています。

## 最小限の問題を作成する

あなたのコースに移動し，[問題バンク](/Moodle/Question_bank.md)に移動して，「STACK」問題タイプで新しい問題を作成してください。

たくさんの設定項目がありますが，必須なのはほんの一部です。

1. 「問題名」
2. 生徒に表示される「問題テキスト」
3. 「正解」（デフォルトの問題では「解答欄: ans1」にあります）
4. 解答の評価方法

デフォルトでは，新しい問題は自動的に1つの[入力](/Authoring/Inputs.md)と，解答の正しさをテストするための1つのアルゴリズムが設定されています。

### 問題名 ###

`問題1`のような問題名を設定する必要があります

### 問題テキスト ###

\((x-1)^3\)を\(x\)について微分する問題について考えましょう。
まずは問題文そのものを書く必要があります。以下を問題テキストの入力ボックスにコピーしてください。

    \((x-1)^3\)を x について微分しなさい。
	[[input:ans1]] [[validation:ans1]]

補足:

* Moodle には幅広いテキストエディタの選択肢があるため，このクイック・スタート・ガイドのスクリーンショットはあなたが使用する Moodle とは若干表示が異なるかもしれません。また，コピーするテキストは整形されている場合があります。
* テキストは LaTeX の数式環境を含みます。数式環境`$..$`と`$$..$$`は使用しないでください。 代わりに，インライン数式と別行立て数式にはそれぞれ`\(..\)`と `\[..\]`を使わなければなりません。(古い教材がたくさんある場合，Moodle qtype_stackプラグインページに自動一括変換機能があります)
* 内部的には生徒の解答は変数 `ans1` に代入されます。
* タグ`[[input:ans1]]`は生徒が解答を入力するテキストボックスの位置を表します。
* タグ`[[validation:ans1]]`は，入力`ans1`のバリデーションに関するフィードバックに置き換えられます。例：括弧の欠落による構文エラー
* これらのタグは問題テキストのどこにでも配置できます。

## 解答欄: ans1

下にスクロールすると，[入力](/Authoring/Inputs.md)セクションの編集フォームがあります。見出し`解答欄: ans1`をクリックすると，関連する設定が表示されます。

最小限の問題のために，_正解_ を指定する必要があります。ここでは以下のように設定しましょう。

    3*(x-1)^2

補足

1. 生徒の解答は解答変数 ans1 に格納されます。
2. 正解はLaTeXではなく，CAS（Maxima）構文で構文的に有効な式である必要があります。特に，乗算は `*` を使って明示的に指定しなければなりません。
3. [入力](/Authoring/Inputs.md)は，様々な解答形式をドロップダウンメニューから選択することができます。デフォルトは _数式_ で，今回はこれを利用します。
4. 問題は複数の解答欄を持つことができます。これについては後のパートで説明します。

## 解答の正しさを評価する - ポテンシャル・レスポンス・ツリー (PRT)

次は，生徒の解答が正しいかどうかを判断する必要があります。

生徒の回答を採点するには，[ポテンシャル・レスポンス・ツリー](/Authoring/Potential_response_trees.md)と呼ばれるアルゴリズムを使って，解答の数学的性質を決定する必要があります。

デフォルトでは，新しい質問は`prt1`という名前の[ポテンシャル・レスポンス・ツリー](/Authoring/Potential_response_trees.md)を持ちます。ツリーによって生成されたフィードバックは適切なタイミングでタグ`[[feedback:prt1]]`を置き換えます。

### ポテンシャル・レスポンス・ノードの設定

ポテンシャル・レスポンス・ツリーは，_ポテンシャル・レスポンス・ノード_ からなる空でない非循環有向グラフである。デフォルトでは，ポテンシャル・レスポンス・ノードは1つです。各ノードについて，

1. `評価対象`は評価関数によって`評価基準`と比較されます。オプションをつけることも可能です。
2. もし`真`なら真の場合の分岐を実行する。
3. もし`偽`なら偽の場合の分岐を実行する。

各分岐では以下のことができます。

* 点数を割り当て/更新する。
* 生徒に形成的[評価](/Authoring/Feedback.md)を割り当てる。
* 統計[レポート](/Authoring/Reporting.md)用に[解答記録](/Authoring/Potential_response_trees.md#Answer_note)を残す。
* 次のポテンシャル・レスポンス・ノードに進むか，`[stop]`で処理を終了する。

生徒が正しく振り分けられたどうかを判断するために，最初のノードを構成してみましょう。

1. `評価対象`に変数`ans1`を指定する。
2. `評価基準`に正しい解答，すなわち`3*(x-1)^2`を設定する。
3. _評価関数_ のドロップダウンメニューに`代数等価`があることを確認する。(デフォルトで設定されています。)

## 問題を保存する

ページを一番下までスクロールし，`[変更を保存して編集を続ける]`を押してください。 質問の保存に失敗した場合は，間違いがないかよく確認し，修正して再度保存してください。

__これで最小限の問題が完成しました。__

要約すると，以下を設定しました

1. 「問題名」
2. 「問題テキスト」
3. 模範解答である「正解」
4. 解答の評価方法

次に，ページの下部にある「プレビュー」を押して，問題をテストしてみましょう。

![プレビューボタン](../../content/preview_button.png)   

## 問題のプレビュー

テストをスピードアップするため，プレビューウィンドウをスクロールし，「Attempt options」または「プレビューオプション」 (moodleのバージョンに依存します) の中にある，「問題動作」が「アダプティブモード」に設定されていることを確認してください。必要があれば，「これらのオプションで再開する」を実行してください。これにより，「送信して終了する」と「再開する」を繰り返すことなく，あなたの解答を確認することができます。

プレビューを開いた状態で，次のように解答欄に入力してみてください。

    3*(x-1)^2

システムはまず，この解答の構文的妥当性を確認します。

`[Check]`ボタンを押します。

システムはポテンシャル・レスポンス・ツリーを実行し，あなたの解答が模範解答 `3*(x-1)^2` と等価かどうかを確定します。

## 生徒のバリデーション

生徒が解答を入力する際には，2段階のプロセスがあることに注意してください。

第一段階は「バリデーション」です。通常，サーバーは「インスタント検証」を有効にしています。 式が構文的に有効な場合，STACKは生徒に「あなたの入力した数式は次のとおりです :」と表示し，その式を表示します。 無効な回答はエラーメッセージを表示します。

第2段階は有効な式が送信されたときに実行され，学生の解答がポテンシャル・レスポンス・ツリーによって評価されます。

この2段階のプロセスはSTACKに固有の不可欠な特徴です。 生徒を助けるために，検証のオプションがたくさんあります。 例えば，上記の例題では，すべての式は厳密な構文に従っています。例えば`3*(x-1)^2`のような式を用い，記号`*`で掛け算を表しました。生徒が `3(x-1)^2` のような式を入力したとき，暗黙の掛け算を解釈するようにすることもできます。しかし，教師の入力は曖昧さを避けるために常に厳密でなければならないことに注意してください。これらのオプションに関するドキュメントは[入力](/Authoring/Inputs.md)セクションにあります。

# 次のステップ #

これでSTACKで簡単な問題を作ることができるようになりました。


##### 問題作成クイック・スタート・ガイドの次のパートでは，[質問変数](Authoring_quick_start_2.md)の使用について説明します
