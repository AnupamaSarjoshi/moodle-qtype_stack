function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)
/*
  @author: GeoGebra - Dynamic Mathematics for Everyone, http://www.geogebra.org
  @license: This file is subject to the GeoGebra Non-Commercial License Agreement, see http://www.geogebra.org/license. For questions please write us at office@geogebra.org.
*/}(function(){if("function"!=typeof window.GGBApplet){var isRenderGGBElementEnabled=!1,scriptLoadStarted=!1,html5AppletsToProcess=null,ggbHTML5LoadedCodebaseIsWebSimple=!1,ggbHTML5LoadedCodebaseVersion=null,ggbHTML5LoadedScript=null,GGBApplet=function(){for(var applet={},ggbVersion="5.0",parameters={},views=null,html5NoWebSimple=!1,html5NoWebSimpleParamExists=!1,appletID=null,initComplete=!1,html5OverwrittenCodebaseVersion=null,html5OverwrittenCodebase=null,i=0;i<arguments.length;i++){var p=arguments[i];if(null!==p)switch(_typeof(p)){case"number":ggbVersion=p.toFixed(1);break;case"string":p.match(new RegExp("^[0-9]\\.[0-9]+$"))?ggbVersion=p:appletID=p;break;case"object":void 0!==p.is3D?views=p:parameters=p;break;case"boolean":html5NoWebSimple=p,html5NoWebSimpleParamExists=!0}}null===views&&(views={is3D:!1,AV:!1,SV:!1,CV:!1,EV2:!1,CP:!1,PC:!1,DA:!1,FI:!1,PV:!1,macro:!1},void 0===parameters.material_id||html5NoWebSimpleParamExists||(html5NoWebSimple=!0)),null!==appletID&&void 0===parameters.id&&(parameters.id=appletID);var html5Codebase="",isHTML5Offline=!1,loadedAppletType=null,html5CodebaseVersion=null,html5CodebaseScript=null,html5CodebaseIsWebSimple=!1,previewImagePath=null,previewLoadingPath=null,fonts_css_url=null;void 0!==parameters.height&&(parameters.height=Math.round(parameters.height)),void 0!==parameters.width&&(parameters.width=Math.round(parameters.width));var parseVersion=function(d){return parseFloat(d)>4?parseFloat(d):5};function isInIframe(){try{return window.self!==window.top}catch(e){return!0}}function isMobileDevice(){return(!parameters.hasOwnProperty("screenshotGenerator")||!parameters.screenshotGenerator)&&Math.max(screen.width,screen.height)<800}applet.setHTML5Codebase=function(codebase,offline){html5OverwrittenCodebase=codebase,setHTML5CodebaseInternal(codebase,offline)},applet.setJavaCodebase=applet.setJavaCodebaseVersion=applet.isCompiledInstalled=applet.setPreCompiledScriptPath=applet.setPreCompiledResourcePath=function(){},applet.setHTML5CodebaseVersion=function(version,offline){var numVersion=parseFloat(version);NaN!==numVersion&&numVersion<5?console.log("The GeoGebra HTML5 codebase version "+numVersion+" is deprecated. Using version latest instead."):(html5OverwrittenCodebaseVersion=version,setDefaultHTML5CodebaseForVersion(version,offline))},applet.getHTML5CodebaseVersion=function(){return html5CodebaseVersion},applet.getParameters=function(){return parameters},applet.setFontsCSSURL=function(url){fonts_css_url=url},applet.setGiacJSURL=function(url){},applet.setJNLPFile=function(newJnlpFilePath){newJnlpFilePath},applet.setJNLPBaseDir=function(baseDir){},applet.inject=function(){function isOwnIFrame(){return window.frameElement&&window.frameElement.getAttribute("data-singleton")}for(var container,type="auto",container_ID=parameters.id,noPreview=!1,i=0;i<arguments.length;i++){var p=arguments[i];"string"==typeof p?(p=p.toLowerCase()).match(/^(prefer)?(java|html5|compiled|auto|screenshot)$/)?type=p:container_ID=arguments[i]:"boolean"==typeof p?noPreview=p:p instanceof HTMLElement&&(container=p)}function continueInject(){if(initComplete){type=detectAppletType(type);var appletElem=container||document.getElementById(container_ID);if(appletElem)if(applet.removeExistingApplet(appletElem,!1),void 0===parameters.width&&appletElem.clientWidth&&(parameters.width=appletElem.clientWidth),void 0===parameters.height&&appletElem.clientHeight&&(parameters.height=appletElem.clientHeight),parameters.width&&parameters.height||"html5"!==type||(delete parameters.width,delete parameters.height),loadedAppletType=type,"screenshot"===type)injectScreenshot(appletElem,parameters);else{var playButton=!1;parameters.hasOwnProperty("playButton")&&parameters.playButton||parameters.hasOwnProperty("clickToLoad")&&parameters.clickToLoad?playButton=!0:parameters.hasOwnProperty("playButtonAutoDecide")&&parameters.playButtonAutoDecide&&(playButton=(!isInIframe()||isOwnIFrame())&&isMobileDevice()),playButton?(loadedAppletType="screenshot",injectPlayButton(appletElem,parameters,noPreview,type)):injectHTML5Applet(appletElem,parameters,noPreview)}else console.log("possibly bug on ajax loading? ")}else setTimeout(continueInject,200)}continueInject()},applet.getViews=function(){return views},applet.isJavaInstalled=function(){return!1};var fetchParametersFromApi=function(successCallback){var onError=function(){parameters.onError&&parameters.onError(),log("Error: Fetching material (id "+parameters.material_id+") failed.",parameters)},host=location.host.match(/(www|stage|beta|groot|alpha).geogebra.(org|net)/)?location.host:"www.geogebra.org",path="/materials/"+parameters.material_id+"?scope=basic";sendCorsRequest("https://"+host+"/api/proxy.php?path="+encodeURIComponent(path),(function(text){var jsonData=JSON.parse(text),item=jsonData.elements?jsonData.elements.filter((function(element){return"G"==element.type||"E"==element.type}))[0]:jsonData;if(item&&item.url){parameters.fileName=item.url,updateAppletSettings(item.settings||{}),views.is3D=!0;var imageDir="https://www.geogebra.org/images/";applet.setPreviewImage(previewImagePath||item.previewUrl,imageDir+"GeoGebra_loading.png",imageDir+"applet_play.png"),successCallback()}else onError()}),onError)};function updateAppletSettings(settings){["enableLabelDrags","enableShiftDragZoom","enableRightClick"].forEach((function(name){settings[name]=!!settings[name]})),["width","height","showToolBar","showMenuBar","showAlgebraInput","allowStyleBar","showResetIcon","enableLabelDrags","enableShiftDragZoom","enableRightClick","appName"].forEach((function(name){void 0===parameters[name]&&void 0!==settings[name]&&(parameters[name]=settings[name])})),void 0===parameters.showToolBarHelp&&(parameters.showToolBarHelp=parameters.showToolBar)}function sendCorsRequest(url,onSuccess,onError){var xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.onload=function(){onSuccess(xhr.responseText)},xhr.onerror=onError,xhr.send()}applet.isHTML5Installed=function(){return!0},applet.getLoadedAppletType=function(){return loadedAppletType},applet.setPreviewImage=function(previewFilePath,loadingFilePath,playFilePath){previewImagePath=previewFilePath,previewLoadingPath=loadingFilePath,playFilePath},applet.removeExistingApplet=function(appletParent,showScreenshot){var i;"string"==typeof appletParent&&(appletParent=document.getElementById(appletParent)),loadedAppletType=null;var removedID=null;for(i=0;i<appletParent.childNodes.length;i++){var currentChild=appletParent.childNodes[i],className=currentChild.className;"applet_screenshot"===className?showScreenshot?(currentChild.style.display="block",loadedAppletType="screenshot"):currentChild.style.display="none":"applet_scaler prerender"!==className&&(appletParent.removeChild(currentChild),removedID=className&&-1!=className.indexOf("appletParameters")?currentChild.id:null,i--)}var appName=void 0!==parameters.id?parameters.id:removedID,app=window[appName];app&&"function"==typeof app.getBase64&&(app.remove(),window[appName]=null)},applet.refreshHitPoints=function(){if(parseVersion(ggbHTML5LoadedCodebaseVersion)>=5)return!0;var app=applet.getAppletObject();return!(!app||"function"!=typeof app.recalculateEnvironments)&&(app.recalculateEnvironments(),!0)},applet.startAnimation=function(){var app=applet.getAppletObject();return!(!app||"function"!=typeof app.startAnimation)&&(app.startAnimation(),!0)},applet.stopAnimation=function(){var app=applet.getAppletObject();return!(!app||"function"!=typeof app.stopAnimation)&&(app.stopAnimation(),!0)},applet.getAppletObject=function(){var appName=void 0!==parameters.id?parameters.id:"ggbApplet";return window[appName]},applet.resize=function(){};var valBoolean=function(value){return value&&"false"!==value},injectHTML5Applet=function(appletElem,parameters,noPreview){parseVersion(html5CodebaseVersion)<=4.2&&(noPreview=!0);var loadScript=!isRenderGGBElementEnabled&&!scriptLoadStarted;(!isRenderGGBElementEnabled&&!scriptLoadStarted||ggbHTML5LoadedCodebaseVersion!==html5CodebaseVersion||ggbHTML5LoadedCodebaseIsWebSimple&&!html5CodebaseIsWebSimple)&&(loadScript=!0,isRenderGGBElementEnabled=!1,scriptLoadStarted=!1);var article=document.createElement("div");article.classList.add("appletParameters","notranslate");var oriWidth=parameters.width,oriHeight=parameters.height;if(parameters.disableAutoScale=void 0===parameters.disableAutoScale?GGBAppletUtils.isFlexibleWorksheetEditor():parameters.disableAutoScale,void 0!==parameters.width)if(parseVersion(html5CodebaseVersion)<=4.4)valBoolean(parameters.showToolBar)&&(parameters.height-=7),valBoolean(parameters.showAlgebraInput)&&(parameters.height-=37),parameters.width<605&&valBoolean(parameters.showToolBar)&&(parameters.width=605,oriWidth=605);else{var minWidth=100;(valBoolean(parameters.showToolBar)||valBoolean(parameters.showMenuBar))&&(parameters.hasOwnProperty("customToolBar")&&(parameters.customToolbar=parameters.customToolBar),minWidth=valBoolean(parameters.showMenuBar)?245:155),oriWidth<minWidth&&(parameters.width=minWidth,oriWidth=minWidth)}for(var key in article.style.border="none",article.style.display="inline-block",parameters)parameters.hasOwnProperty(key)&&"appletOnLoad"!==key&&article.setAttribute("data-param-"+key,parameters[key]);fonts_css_url&&article.setAttribute("data-param-fontscssurl",fonts_css_url),applet.resize=function(){GGBAppletUtils.responsiveResize(appletElem,parameters)},window.addEventListener("resize",(function(evt){applet.resize()}));var oriAppletOnload="function"==typeof parameters.appletOnLoad?parameters.appletOnLoad:function(){};if(noPreview||void 0===parameters.width){var appletScaler=document.createElement("div");appletScaler.className="applet_scaler",appletScaler.style.position="relative",appletScaler.style.display="block",appletScaler.appendChild(article),appletElem.appendChild(appletScaler),parameters.appletOnLoad=function(api){applet.resize(),oriAppletOnload(api)}}else{parameters.hasOwnProperty("showSplash")||article.setAttribute("data-param-showSplash","false");var previewPositioner=appletElem.querySelector(".applet_scaler.prerender"),preRendered=null!==previewPositioner;if(preRendered)previewContainer=previewPositioner.querySelector(".ggb_preview");else{var previewContainer=createScreenShotDiv(oriWidth,oriHeight,parameters.borderColor,!1);(previewPositioner=document.createElement("div")).className="applet_scaler",previewPositioner.style.position="relative",previewPositioner.style.display="block",previewPositioner.style.width=oriWidth+"px",previewPositioner.style.height=oriHeight+"px"}window.GGBT_spinner&&window.GGBT_spinner.attachSpinner(previewPositioner,"66%"),parseVersion(html5CodebaseVersion)>=5?(parameters.appletOnLoad=function(api){var preview=appletElem.querySelector(".ggb_preview");preview&&preview.parentNode.removeChild(preview),window.GGBT_spinner&&window.GGBT_spinner.removeSpinner(previewPositioner),window.GGBT_wsf_view&&$(window).trigger("resize"),oriAppletOnload(api)},preRendered||previewPositioner.appendChild(previewContainer)):article.appendChild(previewContainer),previewPositioner.appendChild(article),preRendered||appletElem.appendChild(previewPositioner),setTimeout((function(){applet.resize()}),1)}function renderGGBElementWithParams(article,parameters){parameters&&"function"==typeof parameters.appletOnLoad&&"function"==typeof renderGGBElement?renderGGBElement(article,parameters.appletOnLoad):renderGGBElement(article),log("GeoGebra HTML5 applet injected and rendered with previously loaded codebase.",parameters)}function renderGGBElementOnTube(a,parameters){"undefined"==typeof renderGGBElement?(null===html5AppletsToProcess&&(html5AppletsToProcess=[]),html5AppletsToProcess.push({article:a,params:parameters}),window.renderGGBElementReady=function(){isRenderGGBElementEnabled=!0,null!==html5AppletsToProcess&&html5AppletsToProcess.length&&(html5AppletsToProcess.forEach((function(obj){renderGGBElementWithParams(obj.article,obj.params)})),html5AppletsToProcess=null)},parseVersion(html5CodebaseVersion)<5&&(a.className+=" geogebraweb")):renderGGBElementWithParams(a,parameters)}if(loadScript){scriptLoadStarted=!0;for(var i=0;i<article.childNodes.length;i++){"TABLE"===article.childNodes[i].tagName&&(article.removeChild(article.childNodes[i]),i--)}if(null!==ggbHTML5LoadedScript){var el=document.querySelector('script[src="'+ggbHTML5LoadedScript+'"]');null!=el&&el.parentNode.removeChild(el)}var script=document.createElement("script"),scriptLoaded=function(){renderGGBElementOnTube(article,parameters)};script.src=html5Codebase+html5CodebaseScript,ggbHTML5LoadedCodebaseIsWebSimple=html5CodebaseIsWebSimple,ggbHTML5LoadedCodebaseVersion=html5CodebaseVersion,ggbHTML5LoadedScript=script.src,log("GeoGebra HTML5 codebase loaded: '"+html5Codebase+"'.",parameters),html5OverwrittenCodebase||html5OverwrittenCodebaseVersion&&"5.0"!=html5OverwrittenCodebaseVersion?html5Codebase.requirejs?require(["geogebra/runtime/js/web3d/web3d.nocache"],scriptLoaded):(script.onload=scriptLoaded,appletElem.appendChild(script)):(html5CodebaseIsWebSimple?webSimple.succeeded=webSimple.succeeded||webSimple():web3d.succeeded=web3d.succeeded||web3d(),scriptLoaded())}else renderGGBElementOnTube(article,parameters);parameters.height=oriHeight,parameters.width=oriWidth},injectScreenshot=function(appletElem,parameters,showPlayButton){var previewContainer=createScreenShotDiv(parameters.width,parameters.height,parameters.borderColor,showPlayButton),previewPositioner=document.createElement("div");previewPositioner.style.position="relative",previewPositioner.style.display="block",previewPositioner.style.width=parameters.width+"px",previewPositioner.style.height=parameters.height+"px",previewPositioner.className="applet_screenshot applet_scaler"+(showPlayButton?" applet_screenshot_play":""),previewPositioner.appendChild(previewContainer);var scale=GGBAppletUtils.getScale(parameters,appletElem,showPlayButton);showPlayButton?(appletElem.appendChild(getPlayButton()),window.GGBT_wsf_view||(appletElem.style.position="relative")):window.GGBT_spinner&&window.GGBT_spinner.attachSpinner(previewPositioner,"66%"),appletElem.appendChild(previewPositioner),1===scale||isNaN(scale)||(GGBAppletUtils.scaleElement(previewPositioner,scale),previewPositioner.style.width=parameters.width+"px",previewPositioner.style.height=parameters.height+"px",previewPositioner.parentNode.style.width=parameters.width*scale+"px",previewPositioner.parentNode.style.height=parameters.height*scale+"px"),applet.resize=function(){resizeScreenshot(appletElem,previewContainer,previewPositioner,showPlayButton)},window.addEventListener("resize",(function(evt){applet.resize()})),applet.resize()};function resizeScreenshot(appletElem,previewContainer,previewPositioner,showPlayButton){if(appletElem.contains(previewContainer)){if("object"===_typeof(window.GGBT_wsf_view)&&window.GGBT_wsf_view.isFullscreen()){if("fullscreencontent"!==appletElem.id)return;window.GGBT_wsf_view.setCloseBtnPosition(appletElem)}var scale=GGBAppletUtils.getScale(parameters,appletElem,showPlayButton);null!==previewPositioner.parentNode&&(isNaN(scale)||1===scale?(GGBAppletUtils.scaleElement(previewPositioner,1),previewPositioner.parentNode.style.width=parameters.width+"px",previewPositioner.parentNode.style.height=parameters.height+"px"):(GGBAppletUtils.scaleElement(previewPositioner,scale),previewPositioner.parentNode.style.width=parameters.width*scale+"px",previewPositioner.parentNode.style.height=parameters.height*scale+"px")),"object"===_typeof(window.GGBT_wsf_view)&&window.GGBT_wsf_view.isFullscreen()&&GGBAppletUtils.positionCenter(appletElem),"object"===_typeof(window.GGBT_ws_header_footer)&&window.GGBT_ws_header_footer.setWsScrollerHeight()}}applet.onExitFullscreen=function(fullscreenContainer,appletElem){appletElem.appendChild(fullscreenContainer)};var injectPlayButton=function(appletElem,parameters,noPreview,type){injectScreenshot(appletElem,parameters,!0);for(var play=function(){var elems=[];for(i=0;i<appletElem.childNodes.length;i++)elems.push(appletElem.childNodes[i]);if(window.GGBT_wsf_view){var content=window.GGBT_wsf_view.renderFullScreen(appletElem,parameters.id),container=document.getElementById("fullscreencontainer"),oldcontent=jQuery(appletElem).find(".fullscreencontent");oldcontent.length>0?(content.remove(),oldcontent.attr("id","fullscreencontent").show(),jQuery(container).append(oldcontent),window.dispatchEvent(new Event("resize"))):injectHTML5Applet(content,parameters,!1),window.GGBT_wsf_view.launchFullScreen(container)}else loadedAppletType=type,injectHTML5Applet(appletElem,parameters,!1);if(!window.GGBT_wsf_view)for(i=0;i<elems.length;i++)appletElem.removeChild(elems[i])},imgs=appletElem.getElementsByClassName("ggb_preview_play"),i=0;i<imgs.length;i++)imgs[i].addEventListener("click",play,!1),imgs[i].addEventListener("ontouchstart",play,!1);"function"==typeof window.ggbAppletPlayerOnload&&window.ggbAppletPlayerOnload(appletElem),isMobileDevice()&&window.GGBT_wsf_view&&$(".wsf-element-fullscreen-button").remove()},getPlayButton=function(){var playButtonContainer=document.createElement("div");if(playButtonContainer.className="ggb_preview_play icon-applet-play",!window.GGBT_wsf_view){var css='.icon-applet-play {   width: 100%;   height: 100%;box-sizing: border-box;position: absolute;z-index: 1001;cursor: pointer;border-width: 0px;   background-color: transparent;background-repeat: no-repeat;left: 0;top: 0;background-position: center center;   background-image: url("https://www.geogebra.org/images/worksheet/icon-start-applet.png");}.icon-applet-play:hover {background-image: url("https://www.geogebra.org/images/worksheet/icon-start-applet-hover.png");}',style=document.createElement("style");style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),document.getElementsByTagName("head")[0].appendChild(style)}return playButtonContainer},createScreenShotDiv=function(oriWidth,oriHeight,borderColor,showPlayButton){var previewContainer=document.createElement("div");previewContainer.className="ggb_preview",previewContainer.style.position="absolute",previewContainer.style.zIndex="90",previewContainer.style.width=oriWidth-2+"px",previewContainer.style.height=oriHeight-2+"px",previewContainer.style.top="0px",previewContainer.style.left="0px",previewContainer.style.overflow="hidden",previewContainer.style.backgroundColor="white";var bc="lightgrey";void 0!==borderColor&&(bc="none"===borderColor?"transparent":borderColor),previewContainer.style.border="1px solid "+bc;var previewOverlay,pWidth,pHeight,preview=document.createElement("img");if((preview.style.position="relative",preview.style.zIndex="1000",preview.style.top="-1px",preview.style.left="-1px",null!==previewImagePath&&preview.setAttribute("src",previewImagePath),preview.style.opacity=.7,null!==previewLoadingPath)&&!showPlayButton){(previewOverlay=document.createElement("img")).style.position="absolute",previewOverlay.style.zIndex="1001",previewOverlay.style.opacity=1,preview.style.opacity=.3,(pWidth=360)>oriWidth/4*3&&(pWidth=oriWidth/4*3),pHeight=pWidth/5.8,previewOverlay.setAttribute("src",previewLoadingPath),previewOverlay.setAttribute("width",pWidth),previewOverlay.setAttribute("height",pHeight);var pX=(oriWidth-pWidth)/2,pY=(oriHeight-pHeight)/2;previewOverlay.style.left=pX+"px",previewOverlay.style.top=pY+"px",previewContainer.appendChild(previewOverlay)}return previewContainer.appendChild(preview),previewContainer},detectAppletType=function(preferredType){return"html5"===(preferredType=preferredType.toLowerCase())||"screenshot"===preferredType?preferredType:"html5"},modules=["web","webSimple","web3d","tablet","tablet3d","phone"],setDefaultHTML5CodebaseForVersion=function(version,offline){if(html5CodebaseVersion=version,offline)setHTML5CodebaseInternal(html5CodebaseVersion,!0);else{var protocol,codebase,hasWebSimple=!html5NoWebSimple;if(hasWebSimple){var v=parseVersion(html5CodebaseVersion);!isNaN(v)&&v<4.4&&(hasWebSimple=!1)}protocol="http"===window.location.protocol.substr(0,4)?window.location.protocol:"http:";var index=html5CodebaseVersion.indexOf("//");for(var key in codebase=index>0?html5CodebaseVersion:0===index?protocol+html5CodebaseVersion:"https://www.geogebra.org/apps/5.0.721.0/",modules)if(html5CodebaseVersion.slice(-1*modules[key].length)===modules[key]||html5CodebaseVersion.slice(-1*(modules[key].length+1))===modules[key]+"/")return void setHTML5CodebaseInternal(codebase,!1);GGBAppletUtils.isFlexibleWorksheetEditor()||!hasWebSimple||views.is3D||views.AV||views.SV||views.CV||views.EV2||views.CP||views.PC||views.DA||views.FI||views.PV||valBoolean(parameters.showToolBar)||valBoolean(parameters.showMenuBar)||valBoolean(parameters.showAlgebraInput)||valBoolean(parameters.enableRightClick)||parameters.appName&&"classic"!=parameters.appName?codebase+="web3d/":codebase+="webSimple/",setHTML5CodebaseInternal(codebase,!1)}},setHTML5CodebaseInternal=function(codebase,offline){if(codebase.requirejs)html5Codebase=codebase;else{"/"!==codebase.slice(-1)&&(codebase+="/"),html5Codebase=codebase,null===offline&&(offline=-1===codebase.indexOf("http")),isHTML5Offline=offline,html5CodebaseScript="web.nocache.js",html5CodebaseIsWebSimple=!1;var folders=html5Codebase.split("/");folders.length>1&&(offline||"webSimple"!==folders[folders.length-2]?modules.indexOf(folders[folders.length-2])>=0&&(html5CodebaseScript=folders[folders.length-2]+".nocache.js"):(html5CodebaseScript="webSimple.nocache.js",html5CodebaseIsWebSimple=!0)),folders=codebase.split("/"),"test"===(html5CodebaseVersion=folders[folders.length-3]).substr(0,4)?html5CodebaseVersion=html5CodebaseVersion.substr(4,1)+"."+html5CodebaseVersion.substr(5,1):"war"!==html5CodebaseVersion.substr(0,3)&&"beta"!==html5CodebaseVersion.substr(0,4)||(html5CodebaseVersion="5.0");var numVersion=parseFloat(html5CodebaseVersion);NaN!==numVersion&&numVersion<5&&(console.log("The GeoGebra HTML5 codebase version "+numVersion+" is deprecated. Using version latest instead."),setDefaultHTML5CodebaseForVersion("5.0",offline))}},log=function(text,parameters){window.console&&window.console.log&&(!parameters||void 0===parameters.showLogging||parameters.showLogging&&"false"!==parameters.showLogging)&&console.log(text)};function continueInit(){var html5Version=ggbVersion;null!==html5OverwrittenCodebaseVersion?html5Version=html5OverwrittenCodebaseVersion:parseFloat(html5Version)<5&&(html5Version="5.0"),setDefaultHTML5CodebaseForVersion(html5Version,!1),null!==html5OverwrittenCodebase&&setHTML5CodebaseInternal(html5OverwrittenCodebase,isHTML5Offline),initComplete=!0}return void 0!==parameters.material_id?fetchParametersFromApi(continueInit):continueInit(),applet},GGBAppletUtils=function(){function isFlexibleWorksheetEditor(){return void 0!==window.GGBT_wsf_edit}function scaleElement(el,scale){1!=scale?(el.style.transformOrigin="0% 0% 0px",el.style.webkitTransformOrigin="0% 0% 0px",el.style.transform="scale("+scale+","+scale+")",el.style.webkitTransform="scale("+scale+","+scale+")",el.style.maxWidth="initial",null!==el.querySelector(".ggb_preview")&&(el.querySelector(".ggb_preview").style.maxWidth="initial"),void 0!==el.querySelectorAll(".ggb_preview img")[0]&&(el.querySelectorAll(".ggb_preview img")[0].style.maxWidth="initial"),void 0!==el.querySelectorAll(".ggb_preview img")[1]&&(el.querySelectorAll(".ggb_preview img")[1].style.maxWidth="initial")):(el.style.transform="none",el.style.webkitTransform="none")}function calcScale(parameters,appletElem,allowUpscale,showPlayButton,scaleContainerClass){if(parameters.isScreenshoGenerator)return 1;var value,ignoreHeight=void 0!==showPlayButton&&showPlayButton,noScaleMargin=null!=parameters.noScaleMargin&&parameters.noScaleMargin,autoHeight=(value=parameters.autoHeight)&&"false"!==value,windowSize=function(appletElem,appletWidth,allowUpscale,autoHeight,noBorder,scaleContainerClass){var container=null;if(null!=scaleContainerClass&&""!=scaleContainerClass)for(var parent=appletElem.parentNode;null!=parent;){if((" "+parent.className+" ").indexOf(" "+scaleContainerClass+" ")>-1){container=parent;break}parent=parent.parentNode}var myWidth=0,myHeight=0,windowWidth=0,border=0,borderRight=0,borderLeft=0,borderTop=0;if(container)myWidth=container.offsetWidth,myHeight=Math.max(autoHeight?container.offsetWidth:0,container.offsetHeight);else{if(window.innerWidth&&document.documentElement.clientWidth?(myWidth=Math.min(window.innerWidth,document.documentElement.clientWidth),myHeight=Math.min(window.innerHeight,document.documentElement.clientHeight),windowWidth=myWidth):(myWidth=window.innerWidth,myHeight=window.innerHeight,windowWidth=window.innerWidth),appletElem){var rect=appletElem.getBoundingClientRect();rect.left>0&&rect.left<=myWidth&&(void 0===noBorder||!noBorder)&&("rtl"===document.dir?(borderRight=myWidth-rect.width-rect.left,borderLeft=windowWidth<=480?10:30):(borderLeft=rect.left,borderRight=windowWidth<=480?10:30),border=borderLeft+borderRight)}appletElem&&"object"===_typeof(window.GGBT_wsf_view)&&window.GGBT_wsf_view.isFullscreen()&&(appletElem.getBoundingClientRect(),"closePositionRight"===window.GGBT_wsf_view.getCloseBtnPosition()?(border=40,borderTop=0):"closePositionTop"===window.GGBT_wsf_view.getCloseBtnPosition()&&(border=0,borderTop=40))}return appletElem&&((void 0===allowUpscale||!allowUpscale)&&appletWidth>0&&appletWidth+border<myWidth?myWidth=appletWidth:myWidth-=border,"object"!==_typeof(window.GGBT_wsf_view)||!window.GGBT_wsf_view.isFullscreen()||void 0!==allowUpscale&&allowUpscale||(myHeight-=borderTop)),{width:myWidth,height:myHeight}}(appletElem,parameters.width,allowUpscale,autoHeight,ignoreHeight&&window.GGBT_wsf_view||noScaleMargin,scaleContainerClass),windowWidth=parseInt(windowSize.width),appletWidth=parameters.width,appletHeight=parameters.height;if(void 0===appletWidth){var article=appletElem.querySelector(".appletParameters");article&&(appletWidth=article.offsetWidth,appletHeight=article.offsetHeight)}var xscale=windowWidth/appletWidth,yscale=ignoreHeight?1:windowSize.height/appletHeight;return void 0===allowUpscale||allowUpscale||(xscale=Math.min(1,xscale),yscale=Math.min(1,yscale)),Math.min(xscale,yscale)}function getScale(parameters,appletElem,showPlayButton){var autoScale,scale=1,allowUpscale=!1;return parameters.hasOwnProperty("allowUpscale")&&(allowUpscale=parameters.allowUpscale),parameters.hasOwnProperty("scale")&&(scale=parseFloat(parameters.scale),(isNaN(scale)||null===scale||0===scale)&&(scale=1),scale>1&&(allowUpscale=!0)),appletElem&&"object"===_typeof(window.GGBT_wsf_view)&&window.GGBT_wsf_view.isFullscreen()&&(allowUpscale=!0),parameters.hasOwnProperty("disableAutoScale")&&parameters.disableAutoScale?scale:(autoScale=calcScale(parameters,appletElem,allowUpscale,showPlayButton,parameters.scaleContainerClass),!allowUpscale||parameters.hasOwnProperty("scale")&&1!==scale?Math.min(scale,autoScale):autoScale)}function positionCenter(appletElem){var windowWidth=Math.min(window.innerWidth,document.documentElement.clientWidth),windowHeight=Math.min(window.innerHeight,document.documentElement.clientHeight),appletRect=appletElem.getBoundingClientRect(),calcHorizontalBorder=(windowWidth-appletRect.width)/2,calcVerticalBorder=(windowHeight-appletRect.height)/2;calcVerticalBorder<0&&(calcVerticalBorder=0),appletElem.style.position="relative","closePositionRight"===window.GGBT_wsf_view.getCloseBtnPosition()?(appletElem.style.left=calcHorizontalBorder<40?"40px":calcHorizontalBorder+"px",appletElem.style.top=calcVerticalBorder+"px"):"closePositionTop"===window.GGBT_wsf_view.getCloseBtnPosition()&&(appletElem.style.top=calcVerticalBorder<40?"40px":calcVerticalBorder+"px",appletElem.style.left=calcHorizontalBorder+"px")}return{responsiveResize:function(appletElem,parameters){var article=appletElem.querySelector(".appletParameters");if(article){if("object"===_typeof(window.GGBT_wsf_view)&&window.GGBT_wsf_view.isFullscreen()){if(parameters.id!==article.getAttribute("data-param-id"))return;window.GGBT_wsf_view.setCloseBtnPosition(appletElem)}if(article.parentElement&&/fullscreen/.test(article.parentElement.className))return;var scale=getScale(parameters,appletElem);isFlexibleWorksheetEditor()&&article.setAttribute("data-param-scale",scale);for(var scaleElem=null,i=0;i<appletElem.childNodes.length;i++)if(void 0!==appletElem.childNodes[i].className&&appletElem.childNodes[i].className.match(/^applet_scaler/)){scaleElem=appletElem.childNodes[i];break}if(null!==scaleElem&&null!==scaleElem.querySelector(".noscale"))return;var appName=void 0!==parameters.id?parameters.id:"ggbApplet",app=window[appName];null!=app&&app.recalculateEnvironments||null===scaleElem||scaleElem.className.match(/fullscreen/)||(scaleElem.parentNode.style.transform="",isNaN(scale)||1===scale?(scaleElement(scaleElem,1),scaleElem.parentNode.style.width=parameters.width+"px",scaleElem.parentNode.style.height=parameters.height+"px"):(scaleElem.parentNode.style.width=parameters.width*scale+"px",scaleElem.parentNode.style.height=parameters.height*scale+"px",scaleElement(scaleElem,scale))),"object"===_typeof(window.GGBT_wsf_view)&&window.GGBT_wsf_view.isFullscreen()&&positionCenter(appletElem),window.GGBT_wsf_view&&!window.GGBT_wsf_view.isFullscreen()&&window.GGBT_wsf_general.adjustContentToResize($(article).parents(".content-added-content"))}},isFlexibleWorksheetEditor:isFlexibleWorksheetEditor,positionCenter:positionCenter,getScale:getScale,scaleElement:scaleElement}}();"function"==typeof define&&define.amd&&define("qtype_stack/geogebracore-lazy",[],(function(){return GGBApplet})),GGBAppletUtils.makeModule=function(name,permutation){function webModule(){var I="bootstrap",J="begin",K="gwt.codesvr."+name+"=",L="gwt.codesvr=",M=name,N="startup",O="DUMMY",P=0,Q=1,R="iframe",S="position:absolute; width:0; height:0; border:none; left: -1000px;",T=" top: -1000px;",U="CSS1Compat",V="<!doctype html>",W="",X="<html><head></head><body></body></html>",Y="undefined",Z="readystatechange",$=10,_="Chrome",ab='eval("',bb='");',cb="script",db="javascript",eb="moduleStartup",fb="moduleRequested",gb="Failed to load ",hb="head",ib="meta",jb="name",kb=name+"::",lb="::",mb="gwt:property",nb="content",ob="=",pb="gwt:onPropertyErrorFn",qb='Bad handler "',rb='" for "gwt:onPropertyErrorFn"',sb="gwt:onLoadErrorFn",tb='" for "gwt:onLoadErrorFn"',ub="#",vb="?",wb="/",xb="img",yb="clear.cache.gif",zb="baseUrl",Ab=name+".nocache.js",Bb="base",Cb="//",Db="user.agent",Eb="webkit",Fb="safari",Gb="msie",Hb=11,Ib="ie10",Jb=9,Kb="ie9",Lb=8,Mb="ie8",Nb="gecko",Ob="gecko1_8",Pb=2,Qb=3,Rb=4,Sb="selectingPermutation",Tb=name+".devmode.js",Ub=permutation,Vb=":1",Wb=":2",Xb=":3",Yb=":",Zb=".cache.js",$b="loadExternalRefs",_b="end",o=window,p=document;function q(){var a=o.location.search;return-1!=a.indexOf(K)||-1!=a.indexOf(L)}function r(a,b){}r(I,J),webModule.__sendStats=r,webModule.__moduleName=M,webModule.__errFn=null,webModule.__moduleBase=O,webModule.__softPermutationId=P,webModule.__computePropValue=null,webModule.__getPropMap=null,webModule.__installRunAsyncCode=function(){},webModule.__gwtStartLoadingFragment=function(){return null},webModule.__gwt_isKnownPropertyValue=function(){return!1},webModule.__gwt_getMetaProperty=function(){return null};var s=null,t=o.__gwt_activeModules=o.__gwt_activeModules||{},u;function v(){return w(),u}function w(){if(!u){var a=p.createElement(R);a.id=M,a.style.cssText=S+T,a.tabIndex=-1,p.body.appendChild(a),(u=a.contentWindow.document).open();var b=document.compatMode==U?V:W;u.write(b+X),u.close()}}function A(k){webModule.onScriptDownloaded=function(a){!function(a){function b(){return _typeof(p.readyState)==Y?_typeof(p.body)!=Y&&null!=p.body:/loaded|complete/.test(p.readyState)}var c=b();if(c)a();else{p.addEventListener&&p.addEventListener(Z,d,!1);var e=setInterval((function(){d()}),$)}function d(){if(!c){if(!b())return;c=!0,a(),p.removeEventListener&&p.removeEventListener(Z,d,!1),e&&clearInterval(e)}}}((function(){!function(c){function d(a,b){a.removeChild(b)}var g,e=v(),f=e.body;if(navigator.userAgent.indexOf(_)>-1&&window.JSON){var h=e.createDocumentFragment();h.appendChild(e.createTextNode(ab));for(var i=P;i<c.length;i++){var j=window.JSON.stringify(c[i]);h.appendChild(e.createTextNode(j.substring(Q,j.length-Q)))}h.appendChild(e.createTextNode(bb)),(g=e.createElement(cb)).language=db,g.appendChild(h),f.appendChild(g),d(f,g)}else for(i=P;i<c.length;i++)(g=e.createElement(cb)).language=db,g.text=c[i],f.appendChild(g),d(f,g)}(a)}))};var n=p.createElement(cb);n.src=k,webModule.__errFn&&(n.onerror=function(){webModule.__errFn(M,new Error(gb+code))}),p.getElementsByTagName(hb)[P].appendChild(n)}function B(){for(var c={},d,e,f=p.getElementsByTagName(ib),g=P,h=f.length;g<h;++g){var i=f[g],j=i.getAttribute(jb),k;if(j){if(j=j.replace(kb,W),j.indexOf(lb)>=P)continue;if(j==mb){if(k=i.getAttribute(nb),k){var l,m=k.indexOf(ob);m>=P?(j=k.substring(P,m),l=k.substring(m+Q)):(j=k,l=W),c[j]=l}}else if(j==pb){if(k=i.getAttribute(nb),k)try{d=eval(k)}catch(a){alert(qb+k+rb)}}else if(j==sb&&(k=i.getAttribute(nb),k))try{e=eval(k)}catch(a){alert(qb+k+tb)}}}__gwt_getMetaProperty=function(a){var b=c[a];return null==b?null:b},s=d,webModule.__errFn=e}function C(){function e(a){var b=a.lastIndexOf(ub);-1==b&&(b=a.length);var c=a.indexOf(vb);-1==c&&(c=a.length);var d=a.lastIndexOf(wb,Math.min(c,b));return d>=P?a.substring(P,d+Q):W}var a,k=null!=(a=__gwt_getMetaProperty(zb))?a:W;return k==W&&(k=function(){for(var a=p.getElementsByTagName(cb),b=P;b<a.length;++b)if(-1!=a[b].src.indexOf(Ab))return e(a[b].src);return W}()),k==W&&(k=function(){var a=p.getElementsByTagName(Bb);return a.length>P?a[a.length-Q].href:W}()),k==W&&function(){var a=p.location;return a.href==a.protocol+Cb+a.host+a.pathname+a.search+a.hash}()&&(k=e(p.location.href)),k=function(a){if(a.match(/^\w+:\/\//));else{var b=p.createElement(xb);b.src=a+yb,a=e(b.src)}return a}(k),k}function D(a){return a.match(/^\//)||a.match(/^[a-zA-Z]+:\/\//)?a:webModule.__moduleBase+a}function F(){var f=[],g=P;function h(a,b){for(var c=f,d=P,e=a.length-Q;d<e;++d)c=c[a[d]]||(c[a[d]]=[]);c[a[e]]=b}var l,i=[],j=[];function k(a){var b=j[a](),c=i[a];if(b in c)return b;var d=[];for(var e in c)d[c[e]]=e;throw s&&s(a,d,b),null}if(j[Db]=function(){var a=navigator.userAgent.toLowerCase(),b=p.documentMode;return-1!=a.indexOf(Eb)?Fb:-1!=a.indexOf(Gb)&&b>=$&&b<Hb?Ib:-1!=a.indexOf(Gb)&&b>=Jb&&b<Hb?Kb:-1!=a.indexOf(Gb)&&b>=Lb&&b<Hb?Mb:-1!=a.indexOf(Nb)||b>=Hb?Ob:Fb},i[Db]={gecko1_8:P,ie10:Q,ie8:Pb,ie9:Qb,safari:Rb},__gwt_isKnownPropertyValue=function(a,b){return b in i[a]},webModule.__getPropMap=function(){var a={};for(var b in i)i.hasOwnProperty(b)&&(a[b]=k(b));return a},webModule.__computePropValue=k,o.__gwt_activeModules[M].bindings=webModule.__getPropMap,q())return D(Tb);try{h([Ob],Ub),h([Ib],Ub+Vb),h([Kb],Ub+Wb),h([Fb],Ub+Xb);var m=(l=f[k(Db)]).indexOf(Yb);-1!=m&&(g=parseInt(l.substring(m+Q),$),l=l.substring(P,m))}catch(a){}return webModule.__softPermutationId=g,D(l+Zb)}function G(){o.__gwt_stylesLoaded||(o.__gwt_stylesLoaded={})}t[M]={moduleName:M},webModule.__moduleStartupDone=function(e){var f=t[M].bindings;t[M].bindings=function(){for(var a=f?f():{},b=e[webModule.__softPermutationId],c=P;c<b.length;c++){var d=b[c];a[d[P]]=d[Q]}return a}},webModule.__startLoadingFragment=function(a){return D(a)},webModule.__installRunAsyncCode=function(a){var b=v(),c=b.body,d=b.createElement(cb);d.language=db,d.text=a,c.appendChild(d),c.removeChild(d)},B(),webModule.__moduleBase="https://www.geogebra.org/apps/5.0.721.0/"+name+"/",t[M].moduleBase=webModule.__moduleBase;var H=F();return G(),A(H),!0}return webModule},"function"!=typeof window.web3d&&(window.web3d=GGBAppletUtils.makeModule("web3d","DB4BC758858CE6FF8D74A003EF2AD260")),"function"!=typeof window.webSimple&&(window.webSimple=GGBAppletUtils.makeModule("webSimple","459978F521436BBCB52CD0EB80660223")),window.GGBApplet=GGBApplet}else console.warn("deployggb.js was loaded twice")})();

//# sourceMappingURL=geogebracore-lazy.min.js.map